---
id: "cli-files-upload"
title: "files upload"
slug: "/cli_commands/files/upload"
sidebar_label: "upload"
---

Uploads a file to remote storage such as Storj.

The primary purpose of this command is to make the uploading files available for download and execution by compute providers. It is necessary in two cases:

- With the [`workflows create`](/developers/cli_commands/workflows/create) command, **users** can add the uploaded solution or data to an order instead of a Marketplace offer. In this case, a short-term storage period is enough.
- Solution and data **providers** can store the contents of their offers to make them available for customers' orders. This requires a long-term storage period.

Depending on the options, the command offers two ways to upload and store the files. Choose one that suits you better:

- **Uploads to storage directly.** This requires a Storj account and SPCTL [configured](/developers/cli_guides/configure#set-up-storj) to use it. The command will upload the file to the root directory of the bucket specified in the SPCTL configuration file.
- **Creates a storage order using one of the Marketplace storage offers.** This does not require a Storj account but requires paying TEE tokens for the order according to the offer pricing and selected lease duration.

The input of the command is a TAR.GZ archive file. For solutions, this file is created by the [`solutions prepare`](/developers/cli_commands/solutions/prepare) command. For data, it is an archive containing the dataset files.

The output of the command is a resource JSON file with the information for a compute provider on how to access the uploaded file.

## Syntax

```
./spctl files upload <localPath> [option ...]
```

## Arguments

|**Name**| **Description**                |
| :- |:-------------------------------|
|`localPath`| Path to the TAR.GZ archive for uploading |

## Options

| **Name**  | **Description**   |
|:---------------------|:------------------|
| `--filename`         | Name of the resulting file in storage. The default is a random string   |
| `--output`           | Path to save the output resource JSON file. The default is `./resource.json`                |
| `--skip-encryption`  | Flag to skip file encrypting step before upload   |
| `--metadata`         | Path to a metadata file for adding fields to the resource JSON file. This file is generated by the [solutions prepare](/developers/cli_commands/solutions/prepare) command |
| `--max-concurrent`   | Maximum concurrent pieces to upload at once per transfer to limit the number of threads. Use only when dealing with a memory-constrained environment  |
| `--storage`          | Option to use a storage offer. Must follow the format `<offer_id>,<slot_id>`           |
| `--min-rent-minutes` | Storage lease period. Use together with `--storage`. The default is `60`              |
| `--config`           | Path to a configuration file. The default is `./config.json`            |

## Examples

**Example 1.** Upload to remote storage directly

The following command uploads the `content.tar.gz` file located in the SPCTL root directory:

```
./spctl files upload content.tar.gz
```

To execute this command successfully, you need a Storj account and SPCTL configured to use it. Refer to the [Set up Storj](/developers/cli_guides/configure#set-up-storj) section to create a bucket and access grants and set up SPCTL.

**Example 2.** Upload by creating a storage order

The following command uploads the `content.tar.gz` located in the SPCTL root directory:

```
./spctl files upload content.tar.gz --storage 25,33 --min-rent-minutes 120
```

Options used:

- `--storage 25,33`: create a storage order using the [Storj DCS Offer](https://marketplace.superprotocol.com/storage?offer=offerId%3D25&tab=pricing) (offer ID: 25) and the requirement slot with ID 33.
- `--min-rent-minutes 120`: set the lease period for 120 minutes.

Since the `--storage` option is set, the command does not require a Storj account. However, when the lease period is over, the content will become unavailable unless you [replenish the order deposit](/developers/cli_commands/orders/replenish-deposit).

**Example 3.** Use additional options

The following command uploads the `content.tar.gz` file located in the `data` directory in the SPCTL root directory:

```
./spctl files upload ./data/content.tar.gz --filename ./fileData.tar.gz --output ./fileResource.json --metadata ./fileMetadata.json --storage 25,33 --min-rent-minutes 120
```

Options used:

- `--filename ./fileData.tar.gz`: name the uploaded file `fileData.tar.gz`
- `--output ./fileResource.json`: name the output resource JSON file `fileResource.json` and save it to the SPCTL root directory
- `--metadata ./fileMetadata.json`: add the `fileMetadata.json` metadata file to the resource file during the upload
- other options are explained in the previous example.
