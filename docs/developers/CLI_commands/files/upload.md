---
id: "cli-files-upload"
title: "Files upload"
slug: "/cli_commands/files/upload"
sidebar_label: "upload"
---

Upload files to the remote storage, such as Storj. The main purpose of the upload is to store your files until you create the main TEE compute order using the [workflows create](/developers/cli_commands/workflows/create) command, whereas your solutions and data will be transferred to the TEE for execution.

There are two ways to upload:

**1. Upload to a storage offer** 
 
A storage order will be created using one of the storage offers from the Marketplace. This is a convenient way for new users because you don't need to set up your own storage account. This functionality is available in SPCTL version 0.8.6 and up. You will be charged for this order according to the offer pricing and your selected lease duration.

**2. Upload to your own storage**

Advanced users may choose to upload to their own storage for better control and flexibility. In this case the file will be uploaded to the root directory of the bucket specified in the SPCTL [configuration file](/developers/cli_guides/configuring#set-up-storj).

## Usage

```
./spctl files upload <localPath> [OPTIONS]
```

**Input:**

For solutions, it's the files resulted from the [solutions prepare](/developers/cli_commands/solutions/prepare) command. For data, it's a simple `tar.gz` archive.

* A `tar.gz` archive - the solution content files properly packed for execution inside the TEE, or data archives;
* A `json` metadata file  - hashes that might be needed to ensure the integrity of the archive. Optional.

Each archive is uploaded separately. So, if you are deploying a solution with two datasets, you will need to run the upload command three times using different inputs.

**Output:**

* A `json` resource file, containing the information for TEE on how to access your uploaded solution. You will need this file for the  [workflows create](/developers/cli_commands/workflows/create#example-using-own-solution-and-data) command.

## Example:

In this example we will use the scenario of uploading to a storage offer.

```
./spctl files upload fileData.tar.gz --storage 23,27 --min-rent-minutes 120
```

Where:
* `fileData.tar.gz` - path to the archive with your solution or data.
* `--storage 23,27` - slot ID #27 of storage offer ID #23 will be used to create a storage order. This option is not needed if uploading to your own storage (in which case credentials are taken from the SPCTL config).
* `--min-rent-minutes 120` - the lease period of a storage, equal to 2 hours. Not needed if uploading to your own storage.

In some cases you might need additional options, if you want to use metadata or change the file names.

```
./spctl files upload fileData.tar.gz --filename ./fileData.tar.gz --output ./fileResource.json --metadata ./fileMetadata.json --storage 23,27 --min-rent-minutes 120
```

Where:
* `--filename ./fileData.tar.gz` - the name of the resulting file uploaded to storage.
* `--output ./fileResource.json` - the path and name of the resource file.
* `--metadata ./fileMetadata.json` - the path and name of the metadata file that will be added to a resource file during the uploading process.


## Arguments

|**Name**| **Description**                |
| :- |:-------------------------------|
|`localPath`| Path to the file for uploading |

## Options

| **Name, shorthand**  | **Default**       | **Description**                                                                                                                                                                                                         |
|:---------------------|:------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `--filename`         | Random string     | The name of a resulting file in the storage                                                                                                                                                                             |
| `--output`           | `./resource.json` | The path to save a resource file that is used to access the uploaded file                                                                                                                                               |
| `--skip-encryption`  |                   | Skip file encrypting step before upload                                                                                                                                                                                 |
| `--metadata`         |                   | The path to a metadata file for adding fields to a resource file, generated by the [solutions prepare](/developers/cli_commands/solutions/prepare) command |
| `--max-concurrent`   |             | Maximum concurrent pieces to upload at once per transfer. It allows to limit the number of threads when uploading, it should be used only when dealing with a memory-constrained environment                            |
| `--storage`          | []                | Storage offer in the format `<offer_id>,<slot_id>`                                                                                                                                                                      |
| `--min-rent-minutes` | 60                | Storage lease period. Used with the `--storage` option.               |
| `--config`           | `./config.json`   | The path to a configuration file                                                                                                                                                                                        |

