---
id: "cli-files-upload"
title: "files upload"
slug: "/cli_commands/files/upload"
sidebar_label: "upload"
---

Upload a file to remote storage such as Storj.

Users can temporarily store their solution and data files to create an order using the [workflows create](/developers/cli_commands/workflows/create) command. Providers can store the content of their solution and data offers to make it available for user's orders long-term.

Depending on the options, the command does one of the following:

- Uploads to storage directly. This requires a Storj account and SPCTL [configured](/developers/cli_guides/configure#set-up-storj) to use it.
- Creates a storage order using one of the storage offers. This does not require a Storj account but requires paying TEE tokens for the order according to the offer pricing and selected lease duration.

Choose one of these methods that suits you better.

## Synopsis

```
./spctl files upload <localPath> [option ...]
```

**Input:**

- TAR.GZ archive. For solutions, this file is created by the [solutions prepare](/developers/cli_commands/solutions/prepare) command. For data, it is an archive containing the dataset files.

:::note
Upload each archive separately. For example, if you are deploying a solution with two datasets, run the upload command three times using different inputs.
:::

**Output:**

- Resource JSON file containing the information for a compute provider on how to access the uploaded file.

## Argument

|**Name**| **Description**                |
| :- |:-------------------------------|
|`localPath`| Path to the TAR.GZ archive for uploading |

## Options

| **Name**  | **Description**   |
|:---------------------|:------------------|
| `--filename`         | Name of the resulting file in storage. The default is a random string   |
| `--output`           | Path to save the output resource JSON file. The default is `./resource.json`                |
| `--skip-encryption`  | Flag to skip file encrypting step before upload   |
| `--metadata`         | Path to a metadata file for adding fields to the resource JSON file. This file is generated by the [solutions prepare](/developers/cli_commands/solutions/prepare) command |
| `--max-concurrent`   | Maximum concurrent pieces to upload at once per transfer to limit the number of threads. Use only when dealing with a memory-constrained environment  |
| `--storage`          | Option to use a storage offer. Must follow the format `<offer_id>,<slot_id>`           |
| `--min-rent-minutes` | Storage lease period. Use together with `--storage`. The default is `60`              |
| `--config`           | Path to a configuration file. The default is `./config.json`            |

## Examples

**Example 1.** Upload to remote storage directly

The following command uploads the `content.tar.gz` file located in the SPCTL root directory:

```
./spctl files upload content.tar.gz
```

To execute this command successfully, you need a Storj account and SPCTL configured to use it. Refer to the [Set up Storj](/developers/cli_guides/configure#set-up-storj) section to create a bucket and access grants and set up SPCTL.

**Example 2.** Upload using a storage offer

The following command uploads the `content.tar.gz` located in the SPCTL root directory:

```
./spctl files upload content.tar.gz --storage 25,33 --min-rent-minutes 120
```

Options used:

- `--storage 25,33`: create a storage order using the [Storj DCS Offer](https://marketplace.superprotocol.com/storage?offer=offerId%3D25&tab=pricing) (ID 25) and the requirement slot (ID 33)
- `--min-rent-minutes 120`: set the lease period for 120 minutes

Since the `--storage` option is set, the command does not require a Storj account. However, when the lease period is over, the content will become unavailable unless you [replenish the order deposit](/developers/cli_commands/orders/replenish-deposit).

**Example 3.** Additional options

The following command uploads the `content.tar.gz` file located in the `data` directory in the SPCTL root directory:

```
./spctl files upload ./data/content.tar.gz --filename ./fileData.tar.gz --output ./fileResource.json --metadata ./fileMetadata.json --storage 25,33 --min-rent-minutes 120
```

Options used:

- `--filename ./fileData.tar.gz`: name the uploaded file `fileData.tar.gz`
- `--output ./fileResource.json`: name the output resource JSON file `fileResource.json` and save in to the SPCTL root directory
- `--metadata ./fileMetadata.json`: add the `fileMetadata.json` metadata file to the resource file during the upload
- other options are explained in the previous example
